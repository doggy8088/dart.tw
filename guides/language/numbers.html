<!DOCTYPE html><html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Language" content="zh-cmn-Hans">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Google Tag Manager -->
<!--  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':-->
<!--  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],-->
<!--  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=-->
<!--  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);-->
<!--  })(window,document,'script','dataLayer','GTM-5VSZM5J');</script>-->
  <!-- End Google Tag Manager -->

  <meta name="description" content="Learn how Dart numbers are slightly different on the web, when that might matter, and how you might adjust your code.">
  <title>Numbers in Dart | Dart</title>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-28P0PYCRZ9"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-28P0PYCRZ9');
  </script>

  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?fa71f2474b82505e00203cf9956cf0bc";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>

  <!-- Favicon / Touch Icons -->
  <link rel="icon" sizes="64x64" href="/assets/shared/dart/icon/64.png">
  <link href="/assets/img/touch-icon-iphone.png" rel="apple-touch-icon">
  <link href="/assets/img/touch-icon-ipad.png" rel="apple-touch-icon" sizes="152x152">
  <link href="/assets/img/touch-icon-iphone-retina.png" rel="apple-touch-icon" sizes="180x180">
  <link href="/assets/img/touch-icon-ipad-retina.png" rel="apple-touch-icon" sizes="167x167">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@dart_lang">
  <meta name="twitter:title" content="Numbers in Dart">
  <meta name="twitter:description" content="Learn how Dart numbers are slightly different on the web, when that might matter, and how you might adjust your code.">

  <!-- Open Graph -->
  <meta property="og:title" content="Numbers in Dart">
  <meta property="og:description" content="Learn how Dart numbers are slightly different on the web, when that might matter, and how you might adjust your code.">
  <meta property="og:url" content="https://dart.tw.gh.miniasp.com/guides/language/numbers">

  <meta property="og:image" content="https://dart.tw.gh.miniasp.com/assets/shared/dart-logo-for-shares.png?2">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Display:wght@400&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Mono:wght@400;500;700&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons&amp;display=swap" rel="stylesheet">
  <script src="https://cdn.staticfile.org/font-awesome/5.15.4/js/all.js" data-auto-replace-svg="nest">
  </script>

  <link rel="stylesheet" href="/assets/css/main.css?v=1693674404">
  <script src="https://cdn.staticfile.org/jquery/3.7.0/jquery.min.js" integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdn.staticfile.org/popper.js/1.16.1/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdn.staticfile.org/bootstrap/4.6.2/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <!-- <script src="https://cdn.staticfile.org/js-cookie/3.0.5/js.cookie.min.js"
          integrity="sha512-nlp9/l96/EpjYBx7EP7pGASVXNe80hGhYAUrjeXnu/fyF5Py0/RXav4BBNs7n5Hx1WFhOEOWSAVjGeC3oKxDVQ=="
          crossorigin="anonymous"
          referrerpolicy="no-referrer"></script> -->

  <script src="/assets/js/vendor/code-prettify/prettify.js"></script>
  <script src="/assets/js/vendor/code-prettify/lang-dart.js"></script>
  <script src="/assets/js/vendor/code-prettify/lang-yaml.js"></script>
  <script src="/assets/js/os-tabs.js?v=1693674404"></script>
  <script src="/assets/js/utilities.js?v=1693674404"></script>
  <script src="/assets/js/main.js?v=1693674404"></script>

  <script>

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-122680122-5', 'auto');
ga('send', 'pageview');

</script>


 <link href="/assets/translator/css/translator.css" rel="stylesheet"></head>

  <body class="default show_banner">
    <section id="cookie-notice">
  <div class="container">
    <p>Google uses cookies to deliver its services, to personalize ads, and to 
      analyze traffic. You can adjust your privacy controls anytime in your 
      <a href="https://myaccount.google.com/data-and-personalization" target="_blank" rel="noopener" class="no-automatic-external">Google settings</a>. 
      <a href="https://policies.google.com/technologies/cookies" target="_blank" rel="noopener" class="no-automatic-external">Learn more</a>.
    </p>
    <button id="cookie-consent" class="btn btn-primary">Okay</button>
  </div>
</section>

    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=G-28P0PYCRZ9"
 height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <header id="page-header" class="site-header">
  <nav id="mainnav" class="site-header">
  <div id="menu-toggle"><i class="material-icons">menu</i></div>
  <a href="/" class="brand" title="Dart">
    <img src="/assets/img/shared/dart/logo+text/horizontal/white.svg" alt="Dart">
  </a>
  <ul class="navbar">
    <li>
      <a href="/overview" class="nav-link">概覽</a>
    </li>
    <li class="mainnav__get-started">
      <a href="/guides" class="nav-link
         active">
        <span>文件</span>
      </a>
    </li>
    <li>
      <a href="/community" class="nav-link">社群</a>
    </li>
    <li>
      <a href="/#try-dart" class="nav-link">嘗試 Dart</a>
    </li>
    <li>
      <a href="/get-dart" class="nav-link">獲取 Dart SDK</a>
    </li>
    <li class="searchfield">
      <form action="/search" class="site-header__search form-inline" id="cse-search-box">
        <input type="hidden" name="cx" value="011220921317074318178:_yy-tmb5t_i">
        <input type="hidden" name="ie" value="UTF-8">
        <input type="hidden" name="hl" value="en">
        <input class="site-header__searchfield form-control search-field" type="search" name="q" id="q" autocomplete="off" placeholder="Search" aria-label="Search">
      </form>
    </li>
  </ul>
</nav>

  
</header>
 <div class="banner">
  <p class="banner__text">
    Dart 3 已釋出！帶來了全新的
    <a href="https://dart.tw.gh.miniasp.com/language/records" class="no-automatic-external">記錄型別 (records)</a>、
    <a href="https://dart.tw.gh.miniasp.com/language/patterns" class="no-automatic-external">模式匹配 (patterns)</a>
    以及 <a href="https://dart.tw.gh.miniasp.com/language/class-modifiers" class="no-automatic-external">型別修飾符 (class modifiers)</a>。
    <br>
    <!--<a href="https://medium.com/p/53f065a10635" class="no-automatic-external">Check out the blog post</a>!-->
  </p>
</div>
 

    <div id="sidenav" class="">
  <form action="/search/" class="site-header__search form-inline">
    <input class="site-header__searchfield form-control search-field" type="search" name="q" id="q" autocomplete="off" placeholder="Search" aria-label="Search">
  </form>

  <div class="site-sidebar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a href="/overview" class="nav-link">概覽</a>
      </li>
      <li class="nav-item">
        <a href="/community" class="nav-link">社群</a>
      </li>
      <li class="nav-item">
        <a href="https://dartpad.dev" class="nav-link">嘗試 Dart</a>
      </li>
      <li class="nav-item">
        <a href="/get-dart" class="nav-link">獲取 Dart SDK</a>
      </li>
      <li class="nav-item">
        <a href="/guides" class="nav-link active">文件</a>
      </li>
    </ul>

    <ul class="nav flex-column"><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-1" role="button" aria-expanded="false" aria-controls="sidenav-1">範例和課程</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-1">
        <li class="nav-item">
    <a class="nav-link" href="/tutorials">語言概覽</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable" data-toggle="collapse" data-target="#sidenav-1-2" href="#sidenav-1-2" role="button" aria-expanded="true" aria-controls="sidenav-1-2">Codelabs
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-1-2">
      <li class="nav-item">
    <a class="nav-link" href="/codelabs">Codelabs 列表</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/codelabs/dart-cheatsheet">Dart 速查表</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/codelabs/iterables">可迭代集合</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/codelabs/async-await">Dart 非同步程式設計</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/codelabs/null-safety">空安全</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-2" role="button" aria-expanded="false" aria-controls="sidenav-2">Dart 開發語言</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2">
        <li class="nav-item">
    <a class="nav-link" href="/language">介紹</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-2-2" href="#sidenav-2-2" role="button" aria-expanded="false" aria-controls="sidenav-2-2">基礎表示式
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2-2">
      <li class="nav-item">
    <a class="nav-link" href="/language/variables">變數</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/operators">運運算元</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/comments">註釋</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/metadata">註解</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/libraries">庫 &amp; 導庫</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/keywords">關鍵字</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-2-3" href="#sidenav-2-3" role="button" aria-expanded="false" aria-controls="sidenav-2-3">型別
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2-3">
      <li class="nav-item">
    <a class="nav-link" href="/language/built-in-types">基本型別</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/records">記錄 (Records)</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/collections">集合 (Collections)</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/generics">泛型 (Generics)</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/typedefs">別名 (Typedefs)</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/type-system">型別系統</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-2-4" href="#sidenav-2-4" role="button" aria-expanded="false" aria-controls="sidenav-2-4">模式匹配
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2-4">
      <li class="nav-item">
    <a class="nav-link" href="/language/patterns">概覽 &amp; 用法</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/pattern-types">模式匹配型別</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/language/functions">函式方法</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-2-6" href="#sidenav-2-6" role="button" aria-expanded="false" aria-controls="sidenav-2-6">控制流
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2-6">
      <li class="nav-item">
    <a class="nav-link" href="/language/loops">迴圈</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/branches">分支</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/language/error-handling">錯誤處理</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-2-8" href="#sidenav-2-8" role="button" aria-expanded="false" aria-controls="sidenav-2-8">類 &amp; 物件
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2-8">
      <li class="nav-item">
    <a class="nav-link" href="/language/classes">類</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/constructors">構造方法</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/methods">成員方法</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/extend">繼承</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/mixins">混入 (Mixin)</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/enums">列舉</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/extension-methods">擴充方法</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/callable-objects">可呼叫的物件</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-2-9" href="#sidenav-2-9" role="button" aria-expanded="false" aria-controls="sidenav-2-9">型別修飾符
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2-9">
      <li class="nav-item">
    <a class="nav-link" href="/language/class-modifiers">概覽 &amp; 用法</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/class-modifiers-for-apis">API 維護者應該用的型別修飾符</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/modifier-reference">速查表</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-2-10" href="#sidenav-2-10" role="button" aria-expanded="false" aria-controls="sidenav-2-10">併發
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2-10">
      <li class="nav-item">
    <a class="nav-link" href="/language/async">非同步支援</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/language/concurrency">Isolates</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-2-11" href="#sidenav-2-11" role="button" aria-expanded="false" aria-controls="sidenav-2-11">Null safety
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2-11">
      <li class="nav-item">
    <a class="nav-link" href="/null-safety">健全的空安全</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/null-safety/migration-guide">遷移到空安全</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/null-safety/understanding-null-safety">深入理解空安全</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/null-safety/unsound-null-safety">非健全的空安全</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/null-safety/faq">空安全常見問題和解答</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-3" role="button" aria-expanded="false" aria-controls="sidenav-3">高效指南 (Effective Dart)</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3">
        <li class="nav-item">
    <a class="nav-link" href="/effective-dart">概述</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/effective-dart/style">程式碼風格</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/effective-dart/documentation">文件</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/effective-dart/usage">用法範例</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/effective-dart/design">API 設計</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-4" role="button" aria-expanded="false" aria-controls="sidenav-4">核心函式庫</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-4">
        <li class="nav-item">
    <a class="nav-link" href="/guides/libraries">概覽</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/library-tour">概覽</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-4-3" href="#sidenav-4-3" role="button" aria-expanded="false" aria-controls="sidenav-4-3">介紹文章
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-4-3">
      <li class="nav-item">
    <a class="nav-link" href="/articles/libraries/creating-streams">建立 stream</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-5" role="button" aria-expanded="false" aria-controls="sidenav-5">Packages</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5">
        <li class="nav-item">
    <a class="nav-link" href="/guides/packages">如何使用 package</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/useful-libraries">常用 package 介紹</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/create-packages">建立 package</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/publishing">釋出 package</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/writing-package-pages">設定 package 介紹頁</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-5-6" href="#sidenav-5-6" role="button" aria-expanded="false" aria-controls="sidenav-5-6">Package 參考資料
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-6">
      <li class="nav-item">
    <a class="nav-link" href="/tools/pub/dependencies">依賴</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/glossary">術語表</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/package-layout">Package 檔案結構</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/environment-variables">設定環境變數</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/pubspec">Pubspec 檔案</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/troubleshoot">問題排查</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/verified-publishers">釋出者認證</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/versioning">版本管理</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link active" data-toggle="collapse" href="#sidenav-6" role="button" aria-expanded="true" aria-controls="sidenav-6">開發文件</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-6">
        <li class="nav-item">
    <a class="nav-link" href="/codelabs/async-await">Futures、async 和 await</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/language/streams">Streams 介紹</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/json">使用 JSON</a>
  </li><li class="nav-item">
    <a class="nav-link active" href="/guides/language/numbers">Dart 中的數字</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-6-5" href="#sidenav-6-5" role="button" aria-expanded="false" aria-controls="sidenav-6-5">與其他語言進行互動呼叫
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-5">
      <li class="nav-item">
    <a class="nav-link" href="/guides/libraries/c-interop">與 C 互調</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/objective-c-interop">與 Objective-C 和 Swift 互調</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/java-interop">與 Java 和 Kotlin 互調</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/js-interop">與 JavaScript 互調</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/guides/google-apis">Google APIs</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/multiplatform-apps">跨平臺應用</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-6-8" href="#sidenav-6-8" role="button" aria-expanded="false" aria-controls="sidenav-6-8">命令列和伺服器端應用
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-8">
      <li class="nav-item">
    <a class="nav-link" href="/server">概覽</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/server/get-started">起步課程</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/server/cmdline">命令列應用</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/server/fetch-data">從網路上獲取資料</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/server/httpserver">編寫 HTTP 伺服器端應用</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/server/libraries">庫和 package</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/server/google-cloud">Google Cloud</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-6-9" href="#sidenav-6-9" role="button" aria-expanded="false" aria-controls="sidenav-6-9">網頁端 (Web) 應用
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-9">
      <li class="nav-item">
    <a class="nav-link" href="/web">概覽</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/web/get-started">開始使用</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-6-9-3" href="#sidenav-6-9-3" role="button" aria-expanded="false" aria-controls="sidenav-6-9-3">底層 Web 程式設計
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-9-3">
      <li class="nav-item">
    <a class="nav-link" href="/tutorials/web/low-level-html/connect-dart-html">Dart 與 HTML 關聯</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tutorials/web/low-level-html/add-elements">向 DOM 新增元素</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tutorials/web/low-level-html/remove-elements">移除 DOM 元素</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/web/deployment">部署</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/libraries">常用 Web 函式庫和 package</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/guides/environment-declarations">環境變數宣告</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-7" role="button" aria-expanded="false" aria-controls="sidenav-7">開發工具和使用技巧</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7">
        <li class="nav-item">
    <a class="nav-link" href="/tools">概覽</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-7-2" href="#sidenav-7-2" role="button" aria-expanded="false" aria-controls="sidenav-7-2">編輯器和除錯工具
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7-2">
      <li class="nav-item">
    <a class="nav-link" href="/tools/jetbrains-plugin">使用 IntelliJ 和 Android Studio</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/vs-code">使用 VS Code</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/dart-devtools">Dart 開發者工具</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-7-2-4" href="#sidenav-7-2-4" role="button" aria-expanded="false" aria-controls="sidenav-7-2-4">線上執行 Dart 程式碼
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7-2-4">
      <li class="nav-item">
    <a class="nav-link" href="/tools/dartpad">Overview</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dartpad/dartpad-best-practices">DartPad 課程</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dartpad/troubleshoot">DartPad 疑難解答</a>
  </li>
  </ul>
  </li>
</ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-7-3" href="#sidenav-7-3" role="button" aria-expanded="false" aria-controls="sidenav-7-3">命令列工具
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7-3">
      <li class="nav-item">
    <a class="nav-link collapsable" data-toggle="collapse" data-target="#sidenav-7-3-1" href="#sidenav-7-3-1" role="button" aria-expanded="true" aria-controls="sidenav-7-3-1">Dart SDK
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-7-3-1">
      <li class="nav-item">
    <a class="nav-link" href="/tools/sdk">概覽</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-tool">dart 命令</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-analyze">dart analyze 命令</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-compile">dart compile 命令</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-create">dart create 命令</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-doc">dart doc 命令</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-fix">dart fix 命令</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-format">dart format 命令</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-info">dart info 命令</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/pub/cmd">dart pub 命令</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-run">dart run 命令</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-test">dart test 命令</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dartaotruntime">dartaotruntime 命令</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/experiment-flags">實驗性命令標記</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable" data-toggle="collapse" data-target="#sidenav-7-3-2" href="#sidenav-7-3-2" role="button" aria-expanded="true" aria-controls="sidenav-7-3-2">其他的命令列工具
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-7-3-2">
      <li class="nav-item">
    <a class="nav-link" href="/tools/build_runner">build_runner 命令</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/webdev">webdev 命令</a>
  </li>
  </ul>
  </li>
</ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-7-4" href="#sidenav-7-4" role="button" aria-expanded="false" aria-controls="sidenav-7-4">原始碼管理
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7-4">
      <li class="nav-item">
    <a class="nav-link" href="/guides/language/formatting">程式碼格式化</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/private-files">不應提交的內容</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-7-5" href="#sidenav-7-5" role="button" aria-expanded="false" aria-controls="sidenav-7-5">靜態分析
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7-5">
      <li class="nav-item">
    <a class="nav-link" href="/tools/analysis">自訂靜態分析</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/sound-problems">修復常見的型別問題</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/diagnostic-messages">診斷訊息</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/linter-rules">Linter 規則</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-7-6" href="#sidenav-7-6" role="button" aria-expanded="false" aria-controls="sidenav-7-6">測試和調優
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7-6">
      <li class="nav-item">
    <a class="nav-link" href="/guides/testing">測試</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/debugging">除錯 Web 應用</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-8" role="button" aria-expanded="false" aria-controls="sidenav-8">資源</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-8">
        <li class="nav-item">
    <a class="nav-link" href="/resources/faq">常見問題</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/evolution">版本演變</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/spec">語言規範</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/resources/dart-3-migration">Dart 3 遷移指南</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed" data-toggle="collapse" data-target="#sidenav-8-5" href="#sidenav-8-5" role="button" aria-expanded="false" aria-controls="sidenav-8-5">從其他平台轉向 Dart
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-8-5">
      <li class="nav-item">
    <a class="nav-link" href="/guides/language/coming-from/js-to-dart">從 JavaScript 到 Dart</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/coming-from/swift-to-dart">從 Swift 到 Dart</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/resources/glossary">詞彙表</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/resources/books">書籍資源</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/resources/videos">影片資源</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link " data-toggle="collapse" href="#sidenav-9" role="button" aria-expanded="true" aria-controls="sidenav-9">相關站點</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-9">
        <li class="nav-item">
    <a class="nav-link" href="https://api.dart.dev" target="_blank" rel="noopener">API 文件<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://medium.com/dartlang" target="_blank" rel="noopener">Dart 團隊官方部落格<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://dartpad.dev" target="_blank" rel="noopener">DartPad (線上編輯器)<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://flutter.tw" target="_blank" rel="noopener">Flutter<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev" target="_blank" rel="noopener">Package 網站<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-10" role="button" aria-expanded="false" aria-controls="sidenav-10">關於 Dart 中文文件</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-10">
        <li class="nav-item">
    <a class="nav-link" href="https://flutter.tw/about/docs-cn" target="_blank" rel="noopener">關於本站<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://flutter.tw/disclaimer" target="_blank" rel="noopener">免責條款 (Disclaimer)<span class="material-icons md-24">
        open_in_new
      </span></a>
  </li>
</ul>
    </li></ul>

  </div>
</div>

    <main id="page-content">
      







<div id="site-toc--side" class="site-toc ">
  <header class="site-toc__title">
    目錄
    
  </header>
  <ul id="toc" class="section-nav">
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#dart-number-representation">Dart number representation</a></li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#differences-in-behavior">Differences in behavior</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#precision">Precision</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#identity">Identity</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#types-and-type-checking">Types and type checking</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#bitwise-operations">Bitwise operations</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#string-representation">String representation</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#what-should-you-do">What should you do?</a></li>
</ul>
  
</div>


      <article>
        <div class="content">
          

          <div id="site-content-title">
            <div id="page-github-links" class="btn-group" aria-label="Page GitHub links" role="group">
  <a href="https://github.com/doggy8088/dart.tw/tree/master/src/_guides/language/numbers.md" class="btn no-automatic-external" title="View page source" target="_blank" rel="noopener">
    <i class="material-icons">description</i>
  </a>
  <a href="https://github.com/doggy8088/dart.tw/issues/new?template=1_page_issue.yml&amp;title=[PAGE ISSUE]: 'Numbers in Dart'&amp;page-url=https://dart.tw.gh.miniasp.com/guides/language/numbers&amp;page-source=https://github.com/doggy8088/dart.tw/tree/master/src/_guides/language/numbers.md" class="btn no-automatic-external" title="Report an issue with this page" target="_blank" rel="noopener">
    <i class="material-icons">bug_report</i>
  </a>
</div>

            
            <h1 id="numbers-in-dart">Numbers in Dart</h1>
            </div>
          







<div id="site-toc--inline" class="site-toc ">
  <header class="site-toc__title">
    目錄
    
  </header>
  <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#dart-number-representation">Dart number representation</a></li>
<li class="toc-entry toc-h2"><a href="#differences-in-behavior">Differences in behavior</a>
<ul>
<li class="toc-entry toc-h3"><a href="#precision">Precision</a></li>
<li class="toc-entry toc-h3"><a href="#identity">Identity</a></li>
<li class="toc-entry toc-h3"><a href="#types-and-type-checking">Types and type checking</a></li>
<li class="toc-entry toc-h3"><a href="#bitwise-operations">Bitwise operations</a></li>
<li class="toc-entry toc-h3"><a href="#string-representation">String representation</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#what-should-you-do">What should you do?</a></li>
</ul>
  
</div>


          <p>Dart apps often target multiple platforms.
For example, a Flutter app might target iOS, Android, and the web.
The code can be the same,
as long as the app doesn’t rely on platform-specific libraries
or use numbers in a way that’s platform dependent.</p>

<p>This page has details about the differences
between native and web number implementations,
and how to write code so that those differences don’t matter.</p>

<aside class="alert alert-secondary" role="alert">
  <p><strong>Number implementations in Dart and other languages</strong></p>

  <p>Dart has always allowed platform-specific representations
  and semantics for numbers, for reasons of 
  performance, code size, and platform interoperability.</p>

  <p>Similarly, in C/C++ the commonly used <code class="language-plaintext highlighter-rouge">int</code> type for integer values is
  platform-specific to best map to the native machine architecture
  (16-, 32-, or 64-bit).
  In Java, the <code class="language-plaintext highlighter-rouge">float</code> and <code class="language-plaintext highlighter-rouge">double</code> types for fractional values
  were originally designed to strictly follow IEEE 754 on all platforms,
  but this constraint was loosened almost immediately for efficiency reasons
  (<code class="language-plaintext highlighter-rouge">strictfp</code> is required for exact coherence).</p>
</aside>

<h2 id="dart-number-representation">
<a class="anchor" href="#dart-number-representation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dart number representation</h2>

<p>In Dart, all numbers are part of the common <code class="language-plaintext highlighter-rouge">Object</code> type hierarchy,
and there are two concrete, user-visible numeric types:
<code class="language-plaintext highlighter-rouge">int</code>, representing integer values, and <code class="language-plaintext highlighter-rouge">double</code>, representing fractional values.</p>

<p><img src="/assets/img/number-class-hierarchy.svg" alt="Object is the parent of num, which is the parent of int and double"></p>

<p>Depending on the platform,
those numeric types have different, hidden implementations.
In particular, Dart has two very different types of targets it compiles to:</p>

<ul>
  <li>
<strong>Native:</strong> Most often, a 64-bit mobile or desktop processor.</li>
  <li>
<strong>Web:</strong> JavaScript as the primary execution engine.</li>
</ul>

<p>The following table shows how Dart numbers are usually implemented:</p>

<table class="table table-striped nowrap">
  <tbody><tr>
   <th>Representation</th>
   <th>Native <code>int</code>
</th>
   <th>Native <code>double</code>
</th>
   <th>Web <code>int</code>
</th>
   <th>Web <code>double</code>
</th>
  </tr>
  <tr>
   <td>
<a href="https://en.wikipedia.org/wiki/Two%27s_complement">
     64-bit signed two’s complement</a>
   </td>
   <td>✅</td>
   <td></td>
   <td></td>
   <td></td>
  </tr>
  <tr>
   <td>
     <a href="https://en.wikipedia.org/wiki/Double-precision_floating-point_format">64-bit floating point</a>
   </td>
   <td></td>
   <td>✅</td>
   <td>✅</td>
   <td>✅</td>
  </tr>
</tbody></table>

<p>For native targets, you can assume that
<code class="language-plaintext highlighter-rouge">int</code> maps to a signed 64-bit integer representation and
<code class="language-plaintext highlighter-rouge">double</code> maps to a 64-bit IEEE floating-point representation
that matches the underlying processor.</p>

<p>But on the web, where Dart compiles to and interoperates with JavaScript,
there is a single numeric representation:
a 64-bit double-precision floating-point value.
For efficiency, Dart maps both <code class="language-plaintext highlighter-rouge">int</code> and <code class="language-plaintext highlighter-rouge">double</code> to this single representation.
The visible type hierarchy remains the same,
but the underlying hidden implementation types are
different and intertwined.</p>

<p>The following figure illustrates the platform-specific types (in blue)
for native and web targets.
As the figure shows,
the concrete type for <code class="language-plaintext highlighter-rouge">int</code> on native implements only the <code class="language-plaintext highlighter-rouge">int</code> interface.
However, the concrete type for <code class="language-plaintext highlighter-rouge">int</code> on the web implements
both <code class="language-plaintext highlighter-rouge">int</code> and <code class="language-plaintext highlighter-rouge">double</code>.</p>

<p><img src="/assets/img/number-platform-specific.svg" alt="Implementation classes vary by platform; for JavaScript, the class that implements int also implements double"></p>

<aside class="alert alert-info" role="alert">
  <p><i class="material-icons" aria-hidden="true">info</i> <strong>備註:</strong>
  Dart represents <code class="language-plaintext highlighter-rouge">int</code> and <code class="language-plaintext highlighter-rouge">double</code> in
  a few different ways for efficiency,
  but these implementation classes (in blue, above) are hidden.
  In general, you can ignore the platform-specific types,
  and think of <code class="language-plaintext highlighter-rouge">int</code> and <code class="language-plaintext highlighter-rouge">double</code> as concrete types.</p>
</aside>

<p>An <code class="language-plaintext highlighter-rouge">int</code> on the web is represented as
a double-precision floating-point value with no fractional part.
In practice, this works pretty well:
double-precision floating point provides 53 bits of integer precision.
However, <code class="language-plaintext highlighter-rouge">int</code> values are always also <code class="language-plaintext highlighter-rouge">double</code> values,
which can lead to some surprises.</p>

<h2 id="differences-in-behavior">
<a class="anchor" href="#differences-in-behavior" aria-hidden="true"><span class="octicon octicon-link"></span></a>Differences in behavior</h2>

<p>Most integer and double arithmetic
has essentially the same behavior.
There are, however, important differences—particularly 
when your code has strict expectations about
precision, string formatting, or underlying runtime types.</p>

<p>When arithmetic results differ, as described in this section,
the behavior is <strong>platform specific</strong>
and <strong>subject to change</strong>.</p>

<aside class="alert alert-info" role="alert">
  <p><i class="material-icons" aria-hidden="true">info</i> <strong>備註:</strong>
  Any platform-specific behavior that this page describes might change to be
  less surprising, more consistent, or more performant.</p>
</aside>

<h3 id="precision">
<a class="anchor" href="#precision" aria-hidden="true"><span class="octicon octicon-link"></span></a>Precision</h3>

<p>The following table demonstrates how some numerical expressions
differ due to precision.
Here, <code class="language-plaintext highlighter-rouge">math</code> represents the <code class="language-plaintext highlighter-rouge">dart:math</code> library,
and <code class="language-plaintext highlighter-rouge">math.pow(2, 53)</code> is 2<sup>53</sup>.</p>

<p>On the web, integers lose precision past 53 bits.
In particular, 2<sup>53</sup> and 2<sup>53</sup>+1
map to the same value due to truncation.
On native, these values can still be differentiated
because native numbers have 64 bits—63 bits for the value and 1 for the sign.</p>

<p>The effect of overflow is visible
when comparing 2<sup>63</sup>-1 to 2<sup>63</sup>.
On native, the latter overflows to -2<sup>63</sup>,
as expected for two’s-complement arithmetic.
On the web, these values do not overflow
because they are represented differently;
they’re approximations due to the loss of precision.</p>

<table class="table table-striped nowrap">
  <tbody><tr>
   <th>Expression</th>
   <th>Native</th>
   <th>Web</th>
  </tr>
  <tr>
   <td><code>math.pow(2, 53) - 1</code></td>
   <td><code>9007199254740991</code></td>
   <td><code>9007199254740991</code></td>
  </tr>
  <tr>
   <td><code>math.pow(2, 53)</code></td>
   <td><code>9007199254740992</code></td>
   <td><code>9007199254740992</code></td>
  </tr>
  <tr>
   <td><code>math.pow(2, 53) + 1</code></td>
   <td><code>9007199254740993</code></td>
   <td><code>9007199254740992</code></td>
  </tr>
  <tr>
   <td><code>math.pow(2, 62)</code></td>
   <td><code>4611686018427387904</code></td>
   <td><code>4611686018427388000</code></td>
  </tr>
  <tr>
   <td><code>math.pow(2, 63) - 1</code></td>
   <td><code>9223372036854775807</code></td>
   <td><code>9223372036854776000</code></td>
  </tr>
  <tr>
   <td><code>math.pow(2, 63)</code></td>
   <td><code>-9223372036854775808</code></td>
   <td><code>9223372036854776000</code></td>
  </tr>
  <tr>
   <td><code>math.pow(2, 64)</code></td>
   <td><code>0</code></td>
   <td><code>18446744073709552000</code></td>
  </tr>
</tbody></table>

<h3 id="identity">
<a class="anchor" href="#identity" aria-hidden="true"><span class="octicon octicon-link"></span></a>Identity</h3>

<p>On native platforms, <code class="language-plaintext highlighter-rouge">double</code> and <code class="language-plaintext highlighter-rouge">int</code> are distinct types:
no value can be both a <code class="language-plaintext highlighter-rouge">double</code> and an <code class="language-plaintext highlighter-rouge">int</code> at the same time.
On the web, that isn’t true.
Because of this difference,
identity can differ between platforms,
although equality (<code class="language-plaintext highlighter-rouge">==</code>) doesn’t.</p>

<p>The following table shows some expressions that use equality and identity.
The equality expressions are the same on native and web;
the identity expressions are usually different.</p>

<table class="table table-striped nowrap">
  <tbody><tr>
   <th>Expression</th>
   <th>Native</th>
   <th>Web</th>
  </tr>
  <tr>
   <td><code>1.0 == 1</code></td>
   <td><code>true</code></td>
   <td><code>true</code></td>
  </tr>
  <tr>
   <td><code>identical(1.0, 1)</code></td>
   <td><code>false</code></td>
   <td><code>true</code></td>
  </tr>
  <tr>
   <td><code>0.0 == -0.0</code></td>
   <td><code>true</code></td>
   <td><code>true</code></td>
  </tr>
  <tr>
   <td><code>identical(0.0, -0.0)</code></td>
   <td><code>false</code></td>
   <td><code>true</code></td>
  </tr>
  <tr>
   <td><code>double.nan == double.nan</code></td>
   <td><code>false</code></td>
   <td><code>false</code></td>
  </tr>
  <tr>
   <td><code>identical(double.nan, double.nan)</code></td>
   <td><code>true</code></td>
   <td><code>false</code></td>
  </tr>
  <tr>
   <td><code>double.infinity == double.infinity</code></td>
   <td><code>true</code></td>
   <td><code>true</code></td>
  </tr>
  <tr>
   <td><code>identical(double.infinity, double.infinity)</code></td>
   <td><code>true</code></td>
   <td><code>true</code></td>
  </tr>
</tbody></table>

<h3 id="types-and-type-checking">
<a class="anchor" href="#types-and-type-checking" aria-hidden="true"><span class="octicon octicon-link"></span></a>Types and type checking</h3>

<p>On the web, the underlying <code class="language-plaintext highlighter-rouge">int</code> type is like a subtype of <code class="language-plaintext highlighter-rouge">double</code>:
it’s a double-precision value without a fractional part.
In fact, a type check on the web of the form <code class="language-plaintext highlighter-rouge">x is int</code>
returns true if <code class="language-plaintext highlighter-rouge">x</code> is a number (<code class="language-plaintext highlighter-rouge">double</code>) with
a zero-valued fractional part.</p>

<p>As a result, the following are true on the web:</p>

<ul>
  <li>All Dart numbers (values of type <code class="language-plaintext highlighter-rouge">num</code>) are <code class="language-plaintext highlighter-rouge">double</code>.</li>
  <li>A Dart number can be both a <code class="language-plaintext highlighter-rouge">double</code> and an <code class="language-plaintext highlighter-rouge">int</code> at the same time.</li>
</ul>

<p>These facts affect <code class="language-plaintext highlighter-rouge">is</code> checks and <code class="language-plaintext highlighter-rouge">runtimeType</code> properties.
A side effect is that <code class="language-plaintext highlighter-rouge">double.infinity</code> is interpreted as an <code class="language-plaintext highlighter-rouge">int</code>.
Because this is a platform-specific behavior,
it might change in the future.</p>

<table class="table table-striped nowrap">
  <tbody><tr>
   <th>Expression</th>
   <th>Native</th>
   <th>Web</th>
  </tr>
  <tr>
   <td><code>1 is int</code></td>
   <td><code>true</code></td>
   <td><code>true</code></td>
  </tr>
  <tr>
   <td><code>1 is double</code></td>
   <td><code>false</code></td>
   <td><code>true</code></td>
  </tr>
  <tr>
   <td><code>1.0 is int</code></td>
   <td><code>false</code></td>
   <td><code>true</code></td>
  </tr>
  <tr>
   <td><code>1.0 is double</code></td>
   <td><code>true</code></td>
   <td><code>true</code></td>
  </tr>
  <tr>
   <td><code>(0.5 + 0.5) is int</code></td>
   <td><code>false</code></td>
   <td><code>true</code></td>
  </tr>
  <tr>
   <td><code>(0.5 + 0.5) is double</code></td>
   <td><code>true</code></td>
   <td><code>true</code></td>
  </tr>
  <tr>
   <td><code>3.14 is int</code></td>
   <td><code>false</code></td>
   <td><code>false</code></td>
  </tr>
  <tr>
   <td><code>3.14 is double</code></td>
   <td><code>true</code></td>
   <td><code>true</code></td>
  </tr>
  <tr>
   <td><code>double.infinity is int</code></td>
   <td><code>false</code></td>
   <td><code>true</code></td>
  </tr>
  <tr>
   <td><code>double.nan is int</code></td>
   <td><code>false</code></td>
   <td><code>false</code></td>
  </tr>
  <tr>
   <td><code>1.0.runtimeType</code></td>
   <td><code>double</code></td>
   <td><code>int</code></td>
  </tr>
  <tr>
   <td><code>1.runtimeType</code></td>
   <td><code>int</code></td>
   <td><code>int</code></td>
  </tr>
  <tr>
   <td><code>1.5.runtimeType</code></td>
   <td><code>double</code></td>
   <td><code>double</code></td>
  </tr>
</tbody></table>

<h3 id="bitwise-operations">
<a class="anchor" href="#bitwise-operations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bitwise operations</h3>

<p>For performance reasons on the web,
bitwise (<code class="language-plaintext highlighter-rouge">&amp;</code>, <code class="language-plaintext highlighter-rouge">|</code>, <code class="language-plaintext highlighter-rouge">^</code>, <code class="language-plaintext highlighter-rouge">~</code>) and shift (<code class="language-plaintext highlighter-rouge">&lt;&lt;</code>,<code class="language-plaintext highlighter-rouge">&gt;&gt;</code>, <code class="language-plaintext highlighter-rouge">&gt;&gt;&gt;</code>) operators on <code class="language-plaintext highlighter-rouge">int</code>
use the native JavaScript equivalents.
In JavaScript, the operands are truncated to 32-bit integers
that are treated as unsigned.
This treatment can lead to surprising results on larger numbers.
In particular, if operands are negative or don’t fit into 32 bits,
they’re likely to produce different results between native and web.</p>

<p>The following table shows how native and web platforms
treat bitwise and shift operators when the operands
are either negative or close to 32 bits:</p>

<table class="table table-striped nowrap">
  <tbody><tr>
   <th>Expression</th>
   <th>Native</th>
   <th>Web</th>
  </tr>
  <tr>
   <td><code>-1 &gt;&gt; 0</code></td>
   <td><code>-1</code></td>
   <td><code>4294967295</code></td>
  </tr>
  <tr>
   <td><code>-1 ^ 2</code></td>
   <td><code>-3</code></td>
   <td><code>4294967293</code></td>
  </tr>
  <tr>
   <td><code>math.pow(2, 32).toInt()</code></td>
   <td><code>4294967296</code></td>
   <td><code>4294967296</code></td>
  </tr>
  <tr>
   <td><code>math.pow(2, 32).toInt() &gt;&gt; 1</code></td>
   <td><code>2147483648</code></td>
   <td><code>0</code></td>
  </tr>
  <tr>
   <td><code>(math.pow(2, 32).toInt()-1) &gt;&gt; 1</code></td>
   <td><code>2147483647</code></td>
   <td><code>2147483647</code></td>
  </tr>
</tbody></table>

<h3 id="string-representation">
<a class="anchor" href="#string-representation" aria-hidden="true"><span class="octicon octicon-link"></span></a>String representation</h3>

<p>On the web, Dart generally defers to JavaScript to convert a number to a string
(for example, for a <code class="language-plaintext highlighter-rouge">print</code>).
The following table demonstrates how
converting the expressions in the first column can lead to different results.</p>

<table class="table table-striped nowrap">
  <tbody><tr>
   <th>Expression</th>
   <th>Native <code>toString()</code>
</th>
   <th>Web <code>toString()</code>
</th>
  </tr>
  <tr>
   <td><code>1</code></td>
   <td><code>"1"</code></td>
   <td><code>"1"</code></td>
  </tr>
  <tr>
   <td><code>1.0</code></td>
   <td><code>"1.0"</code></td>
   <td><code>"1"</code></td>
  </tr>
  <tr>
   <td><code>(0.5 + 0.5)</code></td>
   <td><code>"1.0"</code></td>
   <td><code>"1"</code></td>
  </tr>
  <tr>
   <td><code>1.5</code></td>
   <td><code>"1.5"</code></td>
   <td><code>"1.5"</code></td>
  </tr>
  <tr>
   <td><code>-0</code></td>
   <td><code>"0"</code></td>
   <td><code>"-0.0"</code></td>
  </tr>
  <tr>
   <td><code>math.pow(2, 0)</code></td>
   <td><code>"1"</code></td>
   <td><code>"1"</code></td>
  </tr>
  <tr>
   <td><code>math.pow(2, 80)</code></td>
   <td><code>"0"</code></td>
   <td><code>"1.2089258196146292e+24"</code></td>
  </tr>
</tbody></table>

<h2 id="what-should-you-do">
<a class="anchor" href="#what-should-you-do" aria-hidden="true"><span class="octicon octicon-link"></span></a>What should you do?</h2>

<p>Usually, you don’t need to change your numeric code.
Dart code has been running on both native and web platforms for years,
and number implementation differences are rarely a problem.
Common, typical code—such as iterating through a range of small integers 
and indexing a list—behaves the same.</p>

<p>If you have tests or assertions that compare string results,
write them in a platform-resilient manner.
For example, suppose you’re testing the value of string expressions
that have embedded numbers:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="n">count</span> <span class="o">=</span> <span class="mf">10.0</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
  <span class="kd">var</span> <span class="n">message</span> <span class="o">=</span> <span class="s">"</span><span class="si">$count</span><span class="s"> cows"</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">message</span> <span class="o">!=</span> <span class="s">"20.0 cows"</span><span class="p">)</span> <span class="k">throw</span> <span class="n">Exception</span><span class="p">(</span><span class="s">"Unexpected: </span><span class="si">$message</span><span class="s">"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The preceding code succeeds on native platforms but throws on the web
because <code class="language-plaintext highlighter-rouge">message</code> is <code class="language-plaintext highlighter-rouge">"20 cows"</code> (no decimal) on the web.
As an alternative, you might write the condition as follows,
so it passes on both native and web platforms:</p>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="n">message</span> <span class="o">!=</span> <span class="s">"</span><span class="si">${20.0}</span><span class="s"> cows"</span><span class="p">)</span> <span class="k">throw</span> <span class="p">...</span> 
</code></pre></div></div>

<p>For bit manipulation, consider explicitly operating on 32-bit chunks,
which are consistent on all platforms.
To force a signed interpretation of a 32-bit chunk,
use <code class="language-plaintext highlighter-rouge">int.toSigned(32)</code>.</p>

<p>For other cases where precision matters,
consider other numeric types.
The <a href="https://api.dart.dev/stable/dart-core/BigInt-class.html"><code class="language-plaintext highlighter-rouge">BigInt</code></a> type
provides arbitrary-precision integers on both native and web.
The <a href="https://pub.dev/packages/fixnum"><code class="language-plaintext highlighter-rouge">fixnum</code></a> package
provides strict 64-bit signed numbers, even on the web.
Use these types with care, though:
they often result in significantly bigger and slower code.</p>


          

        </div>
      </article>
    </main>
    <footer id="page-footer">
    <div class="footer-section footer-main">
      <a href="/" class="brand" title="Dart">
        <img src="/assets/img/shared/dart/logo+text/horizontal/white.svg" alt="Dart" width="164px">
      </a>
      <div class="footer-social-links">
        <a href="https://github.com/doggy8088/dart.tw" target="_blank" rel="noopener" title="GitHub" class="no-automatic-external">
          <svg>
            <use href="/assets/img/social/github.svg#github"></use>
          </svg>
        </a>
      </div>
    </div>
    <div class="footer-section footer-tray">
      <div class="footer-licenses">
        參考中文內容需註明本站及連結作為出處，英文內容和範例程式碼均遵從源站授權協議。
      </div>
      <div class="footer-utility-links">
        <ul>
          <li><a href="/terms" title="使用條款">使用條款</a></li>
          <li><a href="https://policies.google.com/privacy?hl=zh-TW" target="_blank" rel="noopener" title="隱私政策" class="no-automatic-external">隱私政策</a></li>
          <li><a href="/security" title="Security philosophy and practices">Dart 程式碼安全說明</a></li>
          <li><a href="https://flutter.tw/about" target="_blank">關於中文文件</a>
          </li><li><a href="https://flutter.tw/disclaimer" target="_blank">免責條款</a>
          </li><li><a href="https://dart.cn/" target="_blank">Dart 簡體中文文檔</a>
        </li></ul>
      </div>
    </div>
  </footer>

  

<script src="/assets/translator/js/translator.js"></script></body></html>